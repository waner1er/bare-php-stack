/* empty css           */const a=["contact","archive","login","register","logout","posts","admin"];let c=[];function r(){const n=document.getElementById("menuForm");if(!n)return;const e=n.dataset.usedSlugs;e&&(c=JSON.parse(e)),m()}function m(){const n=document.getElementById("slug"),e=document.getElementById("type"),t=document.getElementById("menuForm");n&&n.addEventListener("input",s),e&&e.addEventListener("change",s),t&&t.addEventListener("submit",y)}function g(n,e,t){const l=document.getElementById("label"),o=document.getElementById("slug"),u=document.getElementById("type");l&&(l.value=n),o&&(o.value=e),u&&(u.value=t),s()}function s(){const n=document.getElementById("slug"),e=document.getElementById("type"),t=document.getElementById("slug-error"),l=document.getElementById("slug-warning"),o=document.getElementById("submitBtn");if(!n||!e||!t||!l||!o)return;const u=n.value.trim(),d=e.value;if(t.style.display="none",l.style.display="none",o.disabled=!1,!!u){if(c.includes(u)){t.textContent="⚠️ Ce slug est déjà dans le menu",t.style.display="block",o.disabled=!0;return}if(d!=="post"&&a.includes(u)){t.textContent="⚠️ Ce slug est réservé pour une page système",t.style.display="block",o.disabled=!0;return}d==="post"&&a.includes(u)&&(l.textContent="⚠️ Attention : ce slug correspond à une page système, il y aura un conflit",l.style.display="block")}}function y(n){const e=document.getElementById("slug");if(!e)return;const t=e.value.trim();if(c.includes(t))return n.preventDefault(),alert("Ce slug est déjà dans le menu"),!1}function i(){const n=document.getElementById("type"),e=document.getElementById("categoryGroup"),t=document.getElementById("postsSection"),l=document.getElementById("categoriesSection"),o=document.getElementById("category_id");n&&(n.value==="archive"?(e&&(e.style.display="block"),t&&(t.style.display="none"),l&&(l.style.display="block")):(e&&(e.style.display="none"),t&&(t.style.display="block"),l&&(l.style.display="none"),o&&(o.value="")))}function p(){const n=document.getElementById("label"),e=document.getElementById("slug"),t=document.getElementById("type"),l=document.getElementById("category_id");n&&(n.value="Tous les articles"),e&&(e.value="posts"),t&&(t.value="archive"),l&&(l.value=""),i(),s()}function f(n,e,t){const l=document.getElementById("label"),o=document.getElementById("slug"),u=document.getElementById("type"),d=document.getElementById("category_id");l&&(l.value=n),o&&(o.value=e),u&&(u.value="archive"),d&&(d.value=t),i(),s()}function I(){const n=document.getElementById("category_id"),e=document.getElementById("label"),t=document.getElementById("slug");if(!n||!e||!t)return;const l=n.options[n.selectedIndex];if(l.value==="")e.value="Tous les articles",t.value="posts";else{const o=l.getAttribute("data-name"),u=l.getAttribute("data-slug");e.value=o,t.value=u}s()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",r):r();window.fillForm=g;window.toggleCategorySelect=i;window.fillFormForAllPosts=p;window.fillFormForCategory=f;window.updateLabelAndSlugFromCategory=I;console.log("Admin panel loaded");document.addEventListener("DOMContentLoaded",()=>{var e;const n=(e=document.querySelector('meta[name="csrf-token"]'))==null?void 0:e.content;n&&document.querySelectorAll("form").forEach(t=>{if(!t.querySelector('input[name="_token"]')){const l=document.createElement("input");l.type="hidden",l.name="_token",l.value=n,t.appendChild(l)}})});
//# sourceMappingURL=admin.js.map
